import{r as t,t as pe,j as o,c as j,a7 as ve,a8 as he,a9 as xe}from"./index-cOqvBBIr.js";import{i as U,a as ge,A as be}from"./toString-R3Kz-oVC.js";import{C as ye,D as ce,E as ue,F as Me,G as we}from"./proxy-CuIDo5Hh.js";const ne=t.createContext(null),Ie=ne.Provider;function le(e){const n=t.useRef(null);return e||n}const V=t.createContext({}),de=V.Provider;V.Consumer;function te(e){const[n,r]=t.useState(!1),[s,d]=t.useState([]),[i,u]=t.useState(null),a=t.useRef(null),p=t.useCallback((c,l)=>{d(g=>[...g,{element:c,props:l}])},[]),f=t.useCallback(c=>{d(l=>l.filter(g=>{var v;return((v=g==null?void 0:g.element)==null?void 0:v.id)!==c}))},[]),h=t.useCallback(()=>{requestAnimationFrame(()=>{var c;document.activeElement!==e.current&&(a.current=document.activeElement,(c=e.current)==null||c.focus())})},[e]),C=t.useCallback(c=>{const l=s.indexOf(c);l!==-1&&(u(l),h())},[s,h]),m=t.useCallback((c,l)=>{var g;for(let v=c;v>-1&&v<s.length;v+=l)if(!((g=s[v].props)!=null&&g.disabled))return v;return null},[s]),y=t.useCallback(c=>{if(U(c))u(null),h();else{let l;c===0?l=m(0,1):c===-1&&(l=m(s.length-1,-1)),U(l)||C(s[l])}},[s,C,h,m]),M=t.useCallback(()=>{r(!0),h()},[h]),I=t.useCallback(()=>{r(!1),u(null),requestAnimationFrame(()=>{var c;(c=a.current)==null||c.focus()})},[]);return{open:n,items:s,activeItemIndex:i,registerItem:p,unregisterItem:f,focusItemAt:y,openMenu:M,closeMenu:I}}var W,re;function Ee(){if(re)return W;re=1;var e=ge(),n=0;function r(s){var d=++n;return e(s)+d}return W=r,W}var je=Ee();const Ne=pe(je),De=(e=10)=>{const n=[],r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=r.length,d=e;for(let i=0;i<d;i++)n[i]=r.charAt(Math.floor(Math.random()*s));return n.join("")};function $(e="",n=10){const r=t.useRef();return r.current||(r.current=`${Ne(e)}-${De(n)}`),r.current}const Z=t.forwardRef((e,n)=>{const{children:r,activeKey:s,onSelect:d,hidden:i,placement:u,menuClass:a,...p}=e,f=le(n),h=$("menu-"),C=te(f),m=c=>{const l=`rotateX(${c}deg)`;return u&&u.includes("center")?`${l} translateX(-50%)`:l},y={opacity:1,visibility:"visible",transform:m(0)},M={opacity:0,visibility:"hidden",transform:m(40)},I=M;return o.jsx(Ie,{value:{activeKey:s,onSelect:d},children:o.jsx(de,{value:C,children:o.jsx(be,{mode:"wait",children:!i&&o.jsx(ye.ul,{ref:f,id:h,initial:I,animate:y,exit:M,transition:{duration:.15,type:"tween"},className:a,...p,children:r})})})})});Z.displayName="DropdownInnerMenu";function F(...e){return e.filter(n=>n!==null&&typeof n<"u").reduce((n,r)=>{if(typeof r!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return n===void 0?r:function(...d){n.apply(this,d),r.apply(this,d)}},void 0)}const X=t.createContext(null);X.Provider;X.Consumer;const ee=t.forwardRef((e,n)=>{const{asElement:r="div",children:s,className:d,disabled:i,eventKey:u,isActive:a,menuItemHeight:p=35,onSelect:f,style:h,variant:C="light",...m}=e,c=j("menu-item",`menu-item-${C}`,a&&"menu-item-active",i&&"menu-item-disabled",!i&&"menu-item-hoverable",d),l=g=>{f&&f(u,g)};return o.jsx(r,{ref:n,className:c,style:{height:`${p}px`,...h},onClick:l,...m,children:s})});ee.displayName="BaseMenuItem";const{DEFAULT:ke,DIVIDER:ie,HEADER:Y,CUSTOM:z}=ve,se=t.forwardRef((e,n)=>{const{asElement:r="li",children:s,active:d,disabled:i,className:u,submenu:a,style:p,eventKey:f,onClick:h,onSelect:C,variant:m=ke,...y}=e,{mode:M,direction:I}=he(),c=le(n),l=$("menu-item-"),g=t.useRef(null),v=t.useContext(X),x=t.useContext(ne),_=t.useContext(V),b=te(g),H=b.open,E=d||!U(x==null?void 0:x.activeKey)&&(x==null?void 0:x.activeKey)===f||!U(v==null?void 0:v.activeKey)&&(v==null?void 0:v.activeKey)===f,N=t.useCallback(()=>{a&&(b.openMenu(),b.focusItemAt(0))},[a,b]),R=t.useCallback(T=>{var O;C==null||C(f,T),(O=x==null?void 0:x.onSelect)==null||O.call(x,f,T)},[f,C,x]),B=t.useCallback(T=>{i||(a?N():R(T))},[i,a,N,R]),w=t.useCallback(()=>{a&&b.openMenu()},[a,b]),L=t.useCallback(()=>{a&&b.closeMenu()},[a,b]),D={onClick:F(B,h)},{registerItem:A,unregisterItem:S}=_??{};if(a&&(D.onMouseOver=w,D.onMouseOut=L),t.useEffect(()=>(m!==ie&&m!==Y&&(A==null||A(c.current,{disabled:i})),()=>{S==null||S(l)}),[A,S,c,l,i,m]),m===ie||m===Y||m===z)return o.jsx(r,{ref:c,id:l,style:p,className:j(`menu-item-${m}`,u),...m===z?D:{},...y,children:(m===Y||m===z)&&s});function K(){return t.isValidElement(s)?t.cloneElement(s):s}function k(){return a?o.jsx(de,{value:b,children:t.cloneElement(a,{ref:g,hidden:!H})}):null}return a?o.jsxs("li",{...y,style:p,className:"relative",...D,children:[o.jsxs(ee,{ref:c,asElement:"div",id:l,isActive:E,eventKey:f,variant:M,className:j("dropdown-submenu-item",u),children:[o.jsx("span",{children:s}),I==="rtl"?o.jsx(ce,{}):o.jsx(ue,{})]}),k()]}):o.jsxs(ee,{ref:c,asElement:"li",style:p,isActive:E,disabled:i,eventKey:f,variant:M,className:u,...D,...y,children:[K(),k()]})});se.displayName="DropdownItem";const oe=t.forwardRef((e,n)=>{const{eventKey:r,title:s,className:d,placement:i,...u}=e,a=t.useContext(ne),p="dropdown-menu",h=j(p,i,d),C=j(p,"dropdown-submenu"),m=o.jsx(Z,{ref:n,className:C,placement:i,...u});if(a){const y=j(d);return o.jsx(se,{className:y,submenu:m,eventKey:r,children:s})}return o.jsx(Z,{ref:n,className:h,placement:i,...u})});oe.displayName="DropdownMenu";const Ae=({placement:e,children:n})=>e&&e.includes("middle-start")?o.jsxs(o.Fragment,{children:[n,o.jsx(ue,{})]}):e&&e.includes("middle-end")?o.jsxs(o.Fragment,{children:[o.jsx(ce,{}),n]}):e&&e.includes("top")?o.jsxs(o.Fragment,{children:[n,o.jsx(Me,{})]}):o.jsxs(o.Fragment,{children:[n,o.jsx(we,{})]}),me=t.forwardRef((e,n)=>{const{className:r,renderTitle:s,children:d,placement:i="bottom-start",disabled:u,toggleClassName:a,...p}=e,C=j("dropdown-toggle",r,a,u&&"dropdown-toggle-disabled"),m=j(C,"dropdown-toggle-default");return s?o.jsx("div",{className:C,...p,ref:n,children:s}):o.jsx("div",{ref:n,className:m,...p,children:o.jsx("span",{className:"flex items-center",children:o.jsx(Ae,{placement:i,children:d})})})});me.displayName="DropdownToggle";const ae=(e,n)=>{if(e.contains)return e.contains(n);if(e.compareDocumentPosition)return e===n||!!(e.compareDocumentPosition(n)&16);if(n)do if(n===e)return!0;while(n=n.parentNode);return!1},Se=e=>e&&("current"in e?e.current:e);function J(e){const n=(e==null?void 0:e.root)||(e==null?void 0:e.child)||Se(e);return n!=null&&n.nodeType&&typeof(n==null?void 0:n.nodeName)=="string",n}function Te(e){return(e==null?void 0:e.button)===0}function Pe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e!=null&&e.shiftKey)}function Ke(e,n,r,s=!1){return e.addEventListener(n,r,s),{off(){e.removeEventListener(n,r,s)}}}function qe(e,{disabled:n,triggerTarget:r,overlayTarget:s}){const d=t.useCallback(i=>{const u=J(r),a=J(s);u&&ae(u,i.target)||a&&ae(a,i.target)||Pe(i)||!Te(i)||e==null||e(i)},[e,r,s]);t.useEffect(()=>{const i=J(r);if(n||!i)return;const a=Ke(i&&i.ownerDocument||document,"mousedown",d,!0);return()=>{a==null||a.off()}},[r,n,e,d])}function Q(e,n){return Array.isArray(n)?n.indexOf(e)>=0:e===n}const{BOTTOM_START:Fe}=xe,He="click",Re="hover",Le="context",fe=t.forwardRef((e,n)=>{const{title:r,children:s,menuClass:d,menuStyle:i,disabled:u,renderTitle:a,placement:p=Fe,activeKey:f,toggleClassName:h,trigger:C="click",style:m,onClick:y,onMouseEnter:M,onMouseLeave:I,onContextMenu:c,onSelect:l,onOpen:g,onClose:v,onToggle:x,..._}=e,b=t.useRef(null),H=t.useRef(null),E=te(b),N=E.open,R=$("dropdown-toggle-"),B=$("base-menu-"),w=t.useCallback(P=>{const q=typeof P>"u"?!N:P,G=q?g:v;G==null||G(),x==null||x(q),q?E.openMenu():E.closeMenu()},[v,g,x,N,E]),L=t.useCallback(P=>{P.preventDefault(),!u&&w()},[u,w]),D=t.useCallback(()=>{u||w(!0)},[u,w]),A=t.useCallback(()=>{u||w(!1)},[u,w]),S=(P,q)=>{l==null||l(P,q),w(!1)};qe(()=>w(),{triggerTarget:H,overlayTarget:b,disabled:!N});const K={onMouseEnter:M,onMouseLeave:I},k={onClick:y,onContextMenu:c};Q(He,C)&&(k.onClick=F(L,k.onClick)),Q(Le,C)&&(k.onContextMenu=F(L,c)),Q(Re,C)&&(K.onMouseEnter=F(D,M),K.onMouseLeave=F(A,I));const T=o.jsx(me,{..._,...k,ref:H,id:R,className:h,renderTitle:a,disabled:u,placement:p,children:r}),O=o.jsx(oe,{ref:b,className:d,style:i,activeKey:f,hidden:!N,placement:p,id:B,onSelect:S,children:s});return o.jsx(X.Provider,{value:{activeKey:f},children:o.jsxs("div",{...K,ref:n,style:m,className:"dropdown",children:[T,o.jsx(V.Provider,{value:E,children:O})]})})});fe.displayName="Dropdown";const Ce=fe;Ce.Item=se;Ce.Menu=oe;export{Ce as D,ee as M,F as c,$ as u};
